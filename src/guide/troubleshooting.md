---
title: 常见问题
icon: ph:question-duotone
order: 99
---

# 常见问题

## 在本地安装 / 启动失败

当在本地使用时，安装 / 启动阶段出现错误，进行以下排查：

**首先，使用 `npm i -g canvas` 尝试在全局安装 `node-canvas`。如果安装失败，请自行搜索相关日志和您所使用的平台如何安装 `node-canvas`。**

`node-canvas` 是服务端渲染库，这是一个操作系统与平台相关的库，根据您所使用的系统和 CPU 架构，可能有不同安装方式。您可以搜索例如 `Windows安装node-canvas` 或 `macOS安装node-canvas` 等关键词或搜索错误日志来获取相关信息。

其他错误请搜索相关应用提供的错误日志 / 发送 Issue。

## 启动后地图系图表无地图

首先，**由于版权问题，发布版不带有任何 GeoJSON**。若需要使用地图图表，你需要自行准备所需的 GeoJSON 文件。

如果你已经完成了上述步骤，但地图系图表仍然无法显示地图，请检查您的 GeoJSON 路径配置是否正确。**特别的，如果您在使用 `npx`，最好使用绝对路径指定。**

## MacOS 连接 MCP 服务器失败

对于 MacOS 用户，默认的 `1122`(MCP Port) 和 `1123`(Resource Port) 有可能违反了 MacOS 对低位端口号的安全策略。你需要将端口号指定到较大的端口。

## 在部分客户端提示“非法工具”

在部分客户端（尤其是 VSCode）中，有可能会提示连接的 MCP 服务器具有非法工具（具体来说是 Schema 不合法）。这是由于地图系图表的动态注册地图：

- 当地图全部注册失败
- 当没有任何可注册的地图

在这两种情况下，服务器将会返回一个空枚举参数的 JSON Schema。

**如果你并不打算使用地图图表，你可以忽略这个错误。**否则，参见[没有地图](#启动后地图系图表无地图)进行错误排查。

## 生成的图表链接不显示图片

如果出现：已经启动成功，LLM 成功调用，但生成的图表链接没有图片。

确保：你设置的 `resourcePath` 是一个可写的目录，路径正确（最好使用绝对路径），并且 `npx` 有权限在该目录下创建文件。
